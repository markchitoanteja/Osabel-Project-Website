jQuery(document).ready(function (l) { l.fn.exists = function () { return 0 < l(this).length }, l.fn.loaded = function (o, i, t) { var r = this.length; return 0 < r ? this.each(function () { var t = this, e = l(t); e.on("load.dt", function (t) { l(this).off("load.dt"), "function" == typeof o && o.call(this), --r <= 0 && "function" == typeof i && i.call(this) }), t.complete && void 0 !== t.complete ? e.trigger("load.dt") : t.src = t.src }) : t ? ("function" == typeof i && i.call(this), this) : void 0 }; function i(t) { window.console && window.console.error(t) } var t = l("body"), e = (l(window), l("#main-slideshow")); l("#wpadminbar").height(), l(".masthead:not(.side-header):not(.side-header-v-stroke)").height(), t.hasClass("transparent"), l(".floating-navigation-below-slider").exists(), l(".masthead"), t.hasClass("transparent") || (t.hasClass("overlap") ? (l(".masthead:not(.side-header):not(.side-header-v-stroke)").height(), parseInt(e.css("marginTop")), parseInt(e.css("marginBottom"))) : l(".masthead:not(.side-header):not(.side-header-v-stroke)").height()), l.HoverDir = function (t, e) { this.$el = l(e), this._init(t) }, l.HoverDir.defaults = { speed: 300, easing: "ease", hoverDelay: 0, inverse: !1 }, l.HoverDir.prototype = { _init: function (t) { this.options = l.extend(!0, {}, l.HoverDir.defaults, t), this.transitionProp = "all " + this.options.speed + "ms " + this.options.easing, this.support = Modernizr.csstransitions, this._loadEvents() }, _loadEvents: function () { var r = this; this.$el.on("mouseenter.hoverdir, mouseleave.hoverdir", function (t) { var e = l(this), o = e.find(".rollover-content, .post-entry-content, .gallery-rollover"), e = r._getDir(e, { x: t.pageX, y: t.pageY }), i = r._getStyle(e); "mouseenter" === t.type ? (o.hide().css(i.from), clearTimeout(r.tmhover), r.tmhover = setTimeout(function () { o.show(0, function () { var t = l(this); r.support && t.css("transition", r.transitionProp), r._applyAnimation(t, i.to, r.options.speed) }) }, r.options.hoverDelay)) : (r.support && o.css("transition", r.transitionProp), clearTimeout(r.tmhover), r._applyAnimation(o, i.from, r.options.speed)) }) }, _getDir: function (t, e) { var o = t.width(), i = t.height(), r = (e.x - t.offset().left - o / 2) * (i < o ? i / o : 1), e = (e.y - t.offset().top - i / 2) * (o < i ? o / i : 1); return Math.round((Math.atan2(e, r) * (180 / Math.PI) + 180) / 90 + 3) % 4 }, _getStyle: function (t) { var e, o, i = { left: "0px", top: "-100%" }, r = { left: "0px", top: "100%" }, a = { left: "-100%", top: "0px" }, n = { left: "100%", top: "0px" }, s = { top: "0px" }, l = { left: "0px" }; switch (t) { case 0: e = this.options.inverse ? r : i, o = s; break; case 1: e = this.options.inverse ? a : n, o = l; break; case 2: e = this.options.inverse ? i : r, o = s; break; case 3: e = this.options.inverse ? n : a, o = l }return { from: e, to: o } }, _applyAnimation: function (t, e, o) { l.fn.applyStyle = this.support ? l.fn.css : l.fn.animate, t.stop().applyStyle(e, l.extend(!0, [], { duration: o + "ms" })) } }; l.fn.hoverdir = function (t) { var e, o = l.data(this, "hoverdir"); return "string" == typeof t ? (e = Array.prototype.slice.call(arguments, 1), this.each(function () { o ? l.isFunction(o[t]) && "_" !== t.charAt(0) ? o[t].apply(o, e) : i("no such method '" + t + "' for hoverdir instance") : i("cannot call methods on hoverdir prior to initialization; attempted to call method '" + t + "'") })) : this.each(function () { o ? o._init() : o = l.data(this, "hoverdir", new l.HoverDir(t, this)) }), o }, l(".mobile-false .hover-grid .rollover-project, .mobile-false .hover-grid.portfolio-shortcode .post, .mobile-false .hover-grid.album-gallery-shortcode .post, .mobile-false .hover-grid.albums-shortcode .post").each(function () { l(this).hoverdir() }), l(".mobile-false .hover-grid-reverse .rollover-project, .mobile-false .hover-grid-reverse.portfolio-shortcode .post, .mobile-false .hover-grid-reverse.album-gallery-shortcode .post, .mobile-false .hover-grid-reverse.albums-shortcode .post ").each(function () { l(this).hoverdir({ inverse: !0 }) }), l.fn.addIconToLinks = function () { return this.each(function () { var t = l(this); t.hasClass("icon-ready") || (l("<span class='icon-portfolio'></span>").appendTo(l(this)), t.addClass("icon-ready")) }) }, l(".links-container a").addIconToLinks(), l.fn.forwardToPost = function () { return this.each(function () { var t = l(this), e = t.find("a").first(), o = e.attr("href"); o ? t.hasClass("this-ready") || (t.on("click tap", function () { if (!t.parents(".ts-wrap").hasClass("ts-interceptClicks")) return "_blank" === e.attr("target") ? window.open(o, "_blank") : window.location.href = o, !1 }), t.addClass("this-ready")) : t.addClass("this-ready") }) }, l(".mobile-false .forward-post, .mobile-true .portfolio-shortcode.the7-elementor-widget .forward-post").forwardToPost(), l.fn.touchforwardToPost = function () { return t.on("touchend", function (t) { l(".mobile-true .rollover-content").removeClass("is-clicked"), l(".mobile-true .rollover-project").removeClass("is-clicked") }), this.each(function () { var i = l(this), r = i.find("a").first(), a = r.attr("href"); a ? i.hasClass("touch-hover-ready") || (i.on("touchstart", function (t) { origY = t.originalEvent.touches[0].pageY, origX = t.originalEvent.touches[0].pageX }), i.on("touchend", function (t) { var e = t.originalEvent.changedTouches[0].pageX, o = t.originalEvent.changedTouches[0].pageY; if (origY == o || origX == e) { if (!i.hasClass("is-clicked")) return t.preventDefault(), l(".mobile-ture .rollover-content").removeClass("is-clicked"), l(".mobile-true .rollover-project").removeClass("is-clicked"), i.addClass("is-clicked"), i.parent(".rollover-project").addClass("is-clicked"), !1; if ("_blank" === r.attr("target")) return window.open(a, "_blank"), !1; window.location.href = a } }), i.addClass("touch-hover-ready")) : i.addClass("touch-hover-ready") }) }, l(".mobile-true .portfolio-shortcode:not(.the7-elementor-widget) .forward-post").touchforwardToPost(), l.fn.touchElementorforwardToPost = function () { return this.each(function () { var t = l(this), o = t.find(".post-thumbnail-wrap a").first(), i = o.attr("href"); i ? t.hasClass("touch-hover-ready") || (t.on("touchstart", function (t) { origY = t.originalEvent.touches[0].pageY, origX = t.originalEvent.touches[0].pageX }), t.on("touchend", function (t) { var e = t.originalEvent.changedTouches[0].pageX, t = t.originalEvent.changedTouches[0].pageY; if (origY == t || origX == e) { if ("_blank" === o.attr("target")) return window.open(i, "_blank"), !1; window.location.href = i } }), t.addClass("touch-hover-ready")) : t.addClass("touch-hover-ready") }) }, l(".mobile-true .portfolio-shortcode.the7-elementor-widget .forward-post").touchElementorforwardToPost(), l.fn.followCurentLink = function () { return this.each(function () { var t, e, o, i, r, a; (t = 0 < l(this).parents(".content-rollover-layout-list").length || 0 < l(this).parents(".gradient-overlay-layout-list").length ? l(this).parent("article") : l(this)).hasClass("this-ready") || (e = t.parent().find(".links-container > a, .project-links-container > a"), o = t.find(".portfolio-categories a"), i = t.find(".post-details"), r = !1, t.on("click", function () { if (!t.parents(".ts-wrap").hasClass("ts-interceptClicks")) return e.each(function () { a = l(this).attr("target") ? l(this).attr("target") : "_self" }), e.hasClass("project-details") || e.hasClass("link") || e.hasClass("project-link") ? window.open(e.attr("href"), a) : r || (r = !0, e.trigger("click"), r = !1), !1 }), t.find(o).click(function (t) { t.stopPropagation(), window.location.href = o.attr("href") }), a = void 0 !== i.attr("target") && 0 < i.attr("target").length ? i.attr("target") : "_self", t.find(i).click(function (t) { t.stopPropagation(), t.preventDefault(), window.open(i.attr("href"), a) }), t.addClass("this-ready")) }) }, l(".mobile-false .rollover-project.rollover-active, .mobile-false .rollover-active,  .mobile-false .buttons-on-img.rollover-active").followCurentLink(), l.fn.touchFollowCurentLink = function () { return t.on("touchend", function (t) { l(".mobile-true .rollover-content").removeClass("is-clicked"), l(".mobile-true .rollover-active").removeClass("is-clicked"), l(".mobile-true .rollover-active").parent("article").removeClass("is-clicked") }), this.each(function () { var i, r, e, a; (i = 0 < l(this).parents(".content-rollover-layout-list").length || 0 < l(this).parents(".gradient-overlay-layout-list").length ? l(this).parent("article") : l(this)).hasClass("this-ready") || (r = i.parent().find(".links-container > a, .project-links-container > a"), e = i.find(".portfolio-categories a"), a = !1, i.on("touchstart", function (t) { origY = t.originalEvent.touches[0].pageY, origX = t.originalEvent.touches[0].pageX }), i.on("touchend", function (t) { var e = t.originalEvent.changedTouches[0].pageX, o = t.originalEvent.changedTouches[0].pageY; if (origY == o || origX == e) return i.hasClass("is-clicked") ? i.parents(".ts-wrap").hasClass("ts-interceptClicks") ? void 0 : (r.each(function () { $thisTarget = l(this).attr("target") ? l(this).attr("target") : "_self" }), r.hasClass("project-details") || r.hasClass("link") || r.hasClass("project-link") ? window.open(r.attr("href"), $thisTarget) : a || (a = !0, r.trigger("click"), a = !1), !1) : (t.preventDefault(), i.addClass("is-clicked"), !1) }), i.find(e).click(function (t) { t.stopPropagation(), window.location.href = e.attr("href") }), i.addClass("this-ready")) }) }, l(".mobile-true .portfolio-shortcode:not(.the7-elementor-widget) .rollover-project.rollover-active, .mobile-true .portfolio-shortcode:not(.the7-elementor-widget) .rollover-active,  .mobile-true .portfolio-shortcode:not(.the7-elementor-widget) .buttons-on-img.rollover-active").touchFollowCurentLink(), l.fn.touchRolloverPostClick = function () { return t.on("touchend", function (t) { l(".mobile-true .portfolio-shortcode:not(.the7-elementor-widget) .post").removeClass("is-clicked") }), this.each(function () { var i = l(this); i.find(".post-thumbnail-rollover").first(), i.find(".entry-meta a, .fancy-date a, .fancy-categories a"), i.find(".entry-excerpt").height(), i.find(".post-details").height(); i.on("touchstart", function (t) { origY = t.originalEvent.touches[0].pageY, origX = t.originalEvent.touches[0].pageX }), i.on("touchend", function (t) { var e = t.originalEvent.changedTouches[0].pageX, o = t.originalEvent.changedTouches[0].pageY; if (origY <= o + 5 && origY >= o - 5 || origX <= e + 5 && origX == e - 5) { if (!i.hasClass("is-clicked")) return t.preventDefault(), t.target.tagName.toLowerCase(), l(".mobile-ture .post").removeClass("is-clicked"), i.addClass("is-clicked"), i.parent().siblings().find(".post").removeClass("is-clicked"), !1; i.parents().hasClass("disable-layout-hover") && "a" === t.target.tagName.toLowerCase() && l(t.target).trigger("click") } }) }) }, l(".mobile-true .content-rollover-layout-list.portfolio-shortcode:not(.the7-elementor-widget) .post, .mobile-true .gradient-overlay-layout-list.portfolio-shortcode:not(.the7-elementor-widget) .post").touchRolloverPostClick(), l.fn.touchElementorRolloverPostClick = function () { return t.on("touchend", function (t) { l(".mobile-true .portfolio-shortcode.the7-elementor-widget .post").removeClass("is-clicked") }), this.each(function () { var i = l(this); i.find(".post-thumbnail-rollover").first(), i.find(".entry-meta a, .fancy-date a, .fancy-categories a"), i.find(".entry-excerpt").height(), i.find(".post-details").height(); i.on("touchstart", function (t) { origY = t.originalEvent.touches[0].pageY, origX = t.originalEvent.touches[0].pageX }), i.on("touchend", function (t) { var e = t.originalEvent.changedTouches[0].pageX, o = t.originalEvent.changedTouches[0].pageY; (origY <= o + 5 && origY >= o - 5 || origX <= e + 5 && origX == e - 5) && i.parents().hasClass("disable-layout-hover") && "a" === t.target.tagName.toLowerCase() && l(t.target).trigger("click") }) }) }, l(".mobile-true .content-rollover-layout-list.portfolio-shortcode.the7-elementor-widget .post, .mobile-true .gradient-overlay-layout-list.portfolio-shortcode.the7-elementor-widget .post").touchElementorRolloverPostClick(), l.fn.touchHoverImage = function () { return t.on("touchend", function (t) { l(".mobile-true .rollover-content").removeClass("is-clicked") }), this.each(function () { var i, t = l(this); t.hasClass("hover-ready") || ((i = l(this).find(".rollover-content")).parents(".wf-cell"), i.on("touchstart", function (t) { origY = t.originalEvent.touches[0].pageY, origX = t.originalEvent.touches[0].pageX }), i.on("touchend", function (t) { var e = t.originalEvent.changedTouches[0].pageX, o = t.originalEvent.changedTouches[0].pageY; if ((origY == o || origX == e) && !i.hasClass("is-clicked")) return l(".links-container > a", i).on("touchend", function (t) { t.stopPropagation(), i.addClass("is-clicked") }), t.preventDefault(), l(".mobile-true .buttons-on-img .rollover-content").removeClass("is-clicked"), i.addClass("is-clicked"), !1 }), t.addClass("hover-ready")) }) }, l(".mobile-true .buttons-on-img").touchHoverImage(), l.fn.touchScrollerImage = function () { return t.on("touchend", function (t) { l(".mobile-true .project-list-media").removeClass("is-clicked") }), this.each(function () { var i, r, a, t = l(this); t.hasClass("hover-ready") || (i = l(this), r = i.find("a.rollover-click-target").first(), a = i.find(".links-container"), i.on("touchstart", function (t) { origY = t.originalEvent.touches[0].pageY, origX = t.originalEvent.touches[0].pageX }), i.on("touchend", function (t) { var e = t.originalEvent.changedTouches[0].pageX, o = t.originalEvent.changedTouches[0].pageY; return i.parents(".ts-wrap").hasClass("ts-interceptClicks") || origY != o && origX != e || i.hasClass("is-clicked") ? void 0 : (0 < r.length && (r.on("click", function (t) { t.stopPropagation(), l(this).hasClass("go-to") && (window.location.href = l(this).attr("href")) }), r.trigger("click")), 0 < a.length && a.find(" > a ").each(function () { l(this).on("touchend", function (t) { t.stopPropagation(), l(this).trigger("click") }) }), t.preventDefault(), l(".mobile-true .dt-owl-item").removeClass("is-clicked"), i.addClass("is-clicked"), !1) }), t.addClass("hover-ready")) }) }, l(".mobile-true .project-list-media").touchScrollerImage(), l.fn.touchHoverLinks = function () { return this.each(function () { var e, t = l(this); t.hasClass("hover-ready") || ((e = l(this)).on("touchend", function (t) { return e.parents(".ts-wrap").hasClass("ts-interceptClicks") || e.hasClass("is-clicked") ? void 0 : (e.hasClass("project-zoom") ? (e.trigger("click"), l(".mobile-true .links-container > a").removeClass("is-clicked"), e.addClass("is-clicked")) : window.location.href = e.attr("href"), !1) }), t.addClass("hover-ready")) }) }, l(".mobile-true .dt-owl-item .links-container > a").touchHoverLinks(), l.fn.triggerAlbumsClick = function () { return this.each(function () { var e, o, i, t = l(this); t.hasClass("this-ready") || (e = l(this).find("a.rollover-click-target, a.dt-pswp-item").first(), o = l(this).find(".portfolio-categories a"), 0 < e.length && (e.on("click", function (t) { t.preventDefault(), e.parents(".ts-wrap").hasClass("ts-interceptClicks") || l(this).hasClass("go-to") && (window.location.href = l(this).attr("href")) }), i = !1, l(this).on("click", function () { var t = l(this).find("a.rollover-click-target, a.dt-pswp-item").first(); l(this).find(".portfolio-categories a"); if (!l(this).parents(".ts-wrap").hasClass("ts-interceptClicks")) return i || (i = !0, t.trigger("click"), i = !1), !1 }), l(this).find(o).click(function (t) { t.stopPropagation(), window.location.href = o.attr("href") })), t.addClass("this-ready")) }) }, l(".mobile-false .dt-albums-template .rollover-project, .mobile-false .dt-albums-shortcode .rollover-project, .mobile-false .dt-albums-template .buttons-on-img, .mobile-false .dt-albums-shortcode .buttons-on-img, .mobile-false .archive .type-dt_gallery .buttons-on-img, .mobile-false .albums-shortcode:not(.content-rollover-layout-list):not(.gradient-overlay-layout-list) .post-thumbnail-wrap").triggerAlbumsClick(), l.fn.triggerClonedAlbumsClick = function () { return this.each(function () { var e, o, i, t = l(this); t.hasClass("this-clone-ready") || (e = l(this).find("a.rollover-click-target, a.dt-pswp-item").first(), o = l(this).find(".portfolio-categories a"), 0 < e.length && (e.on("click", function (t) { t.preventDefault(), e.parents(".ts-wrap").hasClass("ts-interceptClicks") || l(this).hasClass("go-to") && (window.location.href = l(this).attr("href")) }), i = !1, l(this).on("click", function () { var t = l(this).find("a.rollover-click-target, a.dt-pswp-item").first(); l(this).find(".portfolio-categories a"); if (!l(this).parents(".ts-wrap").hasClass("ts-interceptClicks")) return i || (i = !0, t.trigger("click"), i = !1), !1 }), l(this).find(o).click(function (t) { t.stopPropagation(), window.location.href = o.attr("href") })), t.addClass("this-clone-ready")) }) }, l.fn.triggerOverlayAlbumsClick = function () { return this.each(function () { var e, o, t, i = l(this); i.hasClass("this-overlay-ready") || (e = i.parents(".post").first().find("a.rollover-click-target, a.dt-pswp-item").first(), o = i.find(".portfolio-categories a, .entry-excerpt a"), 0 < e.length && (e.on("click", function (t) { t.preventDefault(), e.parents(".ts-wrap").hasClass("ts-interceptClicks") || l(this).hasClass("go-to") && (window.location.href = l(this).attr("href")) }), t = !1, i.on("click", function () { if (!i.parents(".ts-wrap").hasClass("ts-interceptClicks")) return t || (t = !0, e.trigger("click"), t = !1), !1 }), i.find(o).click(function (t) { t.stopPropagation(), window.location.href = o.attr("href") })), i.addClass("this-overlay-ready")) }) }, l(" .mobile-false .albums-shortcode.content-rollover-layout-list .post-entry-content, .mobile-false .albums-shortcode.gradient-overlay-layout-list .post-entry-content").triggerOverlayAlbumsClick(), l.fn.triggerClonedOverlayAlbumsClick = function () { return this.each(function () { var e, o, t, i = l(this); i.hasClass("this-cloned-overlay-ready") || (e = i.parents(".post").first().find("a.rollover-click-target, a.dt-pswp-item").first(), o = i.find(".portfolio-categories a, .entry-excerpt a"), 0 < e.length && (e.on("click", function (t) { t.preventDefault(), e.parents(".ts-wrap").hasClass("ts-interceptClicks") || l(this).hasClass("go-to") && (window.location.href = l(this).attr("href")) }), t = !1, i.on("click", function () { if (!i.parents(".ts-wrap").hasClass("ts-interceptClicks")) return t || (t = !0, e.trigger("click"), t = !1), !1 }), i.find(o).click(function (t) { t.stopPropagation(), window.location.href = o.attr("href") })), i.addClass("this-cloned-overlay-ready")) }) }, l.fn.triggerOverlayAlbumsTouch = function () { return t.on("touchend", function (t) { l(".mobile-true .albums-shortcode .post").removeClass("is-clicked") }), this.each(function () { var i = l(this), r = i.find("a.rollover-click-target, a.dt-pswp-item").first(), a = i.find(".portfolio-categories a"); i.on("touchstart", function (t) { origY = t.originalEvent.touches[0].pageY, origX = t.originalEvent.touches[0].pageX }), i.on("touchend", function (t) { var e = t.originalEvent.changedTouches[0].pageX, o = t.originalEvent.changedTouches[0].pageY; if (origY <= o + 5 && origY >= o - 5 || origX <= e + 5 && origX == e - 5) { if (!i.hasClass("is-clicked")) return t.preventDefault(), l(".mobile-ture .post").removeClass("is-clicked"), i.parent().siblings().find(".post").removeClass("is-clicked"), i.addClass("is-clicked"), !1; r.hasClass("go-to") && (window.location.href = r.attr("href")), r.trigger("click"), i.find(a).click(function (t) { t.stopPropagation(), window.location.href = a.attr("href") }) } }) }) }, l(" .mobile-true .albums-shortcode.content-rollover-layout-list .post, .mobile-true .albums-shortcode.gradient-overlay-layout-list .post").triggerOverlayAlbumsTouch(), l.fn.triggerAlbumsTouch = function () { return t.on("touchend", function (t) { l(".mobile-true .rollover-content").removeClass("is-clicked") }), this.each(function () { var o, e, i, r = l(this); r.hasClass("this-touch-ready") || (o = r.find("a.rollover-click-target, a.dt-pswp-item").first(), e = r.find(".portfolio-categories a"), 0 < o.length && (o.on("click", function (t) { t.preventDefault(), o.parents(".ts-wrap").hasClass("ts-interceptClicks") || l(this).hasClass("go-to") && (window.location.href = l(this).attr("href")) }), i = !1, r.on("touchstart", function (t) { origY = t.originalEvent.touches[0].pageY, origX = t.originalEvent.touches[0].pageX }), r.on("touchend", function (t) { var e = t.originalEvent.changedTouches[0].pageX, t = t.originalEvent.changedTouches[0].pageY; if ((origY <= t + 5 && origY >= t - 5 || origX <= e + 5 && origX == e - 5) && !r.parents(".ts-wrap").hasClass("ts-interceptClicks")) return i || (i = !0, o.trigger("click"), i = !1), !1 }), r.find(e).click(function (t) { t.stopPropagation(), window.location.href = e.attr("href") })), r.addClass("this-touch-ready")) }) }, l(".mobile-true .dt-albums-template .rollover-project, .mobile-true .dt-albums-shortcode .rollover-project, .mobile-true .dt-albums-template .buttons-on-img, .mobile-true .dt-albums-shortcode .buttons-on-img, .mobile-true .archive .type-dt_gallery .buttons-on-img, .mobile-true .albums-shortcode:not(.content-rollover-layout-list):not(.gradient-overlay-layout-list) .post-thumbnail").triggerAlbumsTouch(), l.fn.triggerHoverClick = function () { return this.each(function () { var e, o, i, r, a, n, s = l(this); s.hasClass("click-ready") || (e = s.prev("a:not(.dt-single-pswp):not(.dt-pswp-item)").first(), o = s.find(".portfolio-categories a"), i = s.find(".project-link"), r = i.attr("target") ? i.attr("target") : "_self", 0 < e.length && (n = !1, s.on("click", function (t) { if (!s.parents(".ts-wrap").hasClass("ts-interceptClicks") && !s.parents(".owl-carousel").hasClass("ts-interceptClicks")) return (a = l(t.target)).hasClass("project-zoom") || a.parent("a").hasClass("project-zoom") || n || (n = !0, e.trigger("click"), window.location.href = e.attr("href"), n = !1), !1 }), s.find(i).click(function (t) { t.stopPropagation(), t.preventDefault(), window.open(i.attr("href"), r) }), s.find(o).click(function (t) { t.stopPropagation(), window.location.href = o.attr("href") })), s.addClass("click-ready")) }) }, l(".mobile-false .rollover-project:not(.rollover-active) .rollover-content, .mobile-false .buttons-on-img:not(.rollover-active) .rollover-content").triggerHoverClick(), l.fn.triggerClonedHoverClick = function () { return this.each(function () { var e, o, i, r, a, n, s = l(this); s.hasClass("click-cloned-ready") || (e = s.prev("a:not(.dt-single-pswp):not(.dt-pswp-item)").first(), o = s.find(".portfolio-categories a"), i = s.find(".project-link"), r = i.attr("target") ? i.attr("target") : "_self", 0 < e.length && (n = !1, s.on("click", function (t) { if (!s.parents(".ts-wrap").hasClass("ts-interceptClicks") && !s.parents(".owl-carousel").hasClass("ts-interceptClicks")) return (a = l(t.target)).hasClass("project-zoom") || a.parent("a").hasClass("project-zoom") || n || (n = !0, e.trigger("click"), window.location.href = e.attr("href"), n = !1), !1 }), s.find(i).click(function (t) { t.stopPropagation(), t.preventDefault(), window.open(i.attr("href"), r) }), s.find(o).click(function (t) { t.stopPropagation(), window.location.href = o.attr("href") })), s.addClass("click-cloned-ready")) }) } }), function (g) { g.fn.collagePlus = function (t) { var e = { targetHeight: 400, albumWidth: this.width(), padding: parseFloat(this.css("padding-left")), images: this.children(), fadeSpeed: "fast", display: "inline-block", effect: "default", direction: "vertical", allowPartialLastRow: !1 }, l = g.extend({}, e, t); return this.each(function () { var a = 0, n = [], s = 1; l.images.each(function (t) { var e, o = g(this), o = o.is("img") ? o : g(this).find("img").first(), i = (e = "undefined" != o.attr("width") && "undefined" != o.attr("height") ? (r = void 0 !== o.data("width") ? o.data("width") : o.attr("width"), void 0 !== o.data("height") ? o.data("height") : o.attr("height")) : (r = void 0 !== o.data("width") ? o.data("width") : o.width(), void 0 !== o.data("height") ? o.data("height") : o.height()), function (t) { $img = g(t); t = new Array; return t.w = parseFloat($img.css("border-left-width")) + parseFloat($img.css("border-right-width")), t.h = parseFloat($img.css("border-top-width")) + parseFloat($img.css("border-bottom-width")), t }(o)), o = (o.data("width", r), o.data("height", e), Math.ceil(r / e * l.targetHeight)), r = Math.ceil(l.targetHeight); n.push([this, o, r, i.w, i.h]), (a += o + i.w + l.padding) > l.albumWidth && 0 != n.length && (c(n, a, l), delete a, delete n, a = 0, n = [], s += 1), l.images.length - 1 == t && 0 != n.length && (c(n, a, l), delete a, delete n, a = 0, n = [], s += 1) }), g(this).trigger("jgDone") }); function c(t, e, o) { for (var i = o.padding * t.length + t.length * t[0][3], r = (o.albumWidth - i) / (e - i), a = e < o.albumWidth, n = 0; n < t.length; n++) { var s = g(t[n][0]), l = Math.floor(t[n][1] * r), c = Math.floor(t[n][2] * r), h = !!(n < t.length - 1), d = (!0 === o.allowPartialLastRow && !0 == a && (l = t[n][1], c = t[n][2]), s.is("img") ? s : s.find("img").first()); d.width(l), s.is("img") || s.width(l + t[n][3]), d.height(c), s.is("img") || s.height(c + t[n][4]), !1 === o.allowPartialLastRow && !0 == a ? f(s, 0, "none") : f(s, 0, o.display) } } function f(t, e, o) { t.css({ display: o, "vertical-align": "bottom", overflow: "hidden" }) } }; var i = 0; g(".jg-container").each(function () { i++; var o, t = g(this), e = t.attr("data-padding"); t.find(".wf-cell"); t.attr("id", "jg-container-" + i), g("<style type='text/css'> .content #jg-container-" + i + " .wf-cell{padding:" + e + ";} .content #jg-container-" + i + ".wf-container{margin:-" + e + ";} .content .full-width-wrap #jg-container-" + i + ".wf-container{margin-left:" + e + "; margin-right:" + e + "; margin-top:-" + e + "; margin-bottom:-" + e + ";}</style>").insertAfter(t), t.on("jgDone", function () { new Layzr({ selector: ".jgrid-lazy-load", attr: "data-src", attrSrcSet: "data-srcset", retinaAttr: "data-src-retina", threshold: 0, before: function () { this.setAttribute("sizes", this.width + "px"), this.style.willChange = "opacity" }, callback: function () { this.classList.add("jgrid-layzr-loaded"); var e = g(this); e.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend", function (t) { clearTimeout(o), o = setTimeout(function () { e.parent().removeClass("layzr-bg"), e.css("will-change", "auto") }, 200) }) } }) }) }), g.fn.collage = function (a) { return this.each(function () { g(this); var t = g(this), e = t.attr("data-padding"), o = t.find(".wf-cell"), o = parseFloat(o.first().css("padding-left")) + parseFloat(o.first().css("padding-right")), i = parseInt(t.attr("data-target-height")), r = !0, i = ("false" == t.attr("data-part-row") && (r = !1), { albumWidth: e = t.parent(".full-width-wrap").length ? t.parents(".full-width-wrap").width() - 2 * parseInt(e) : t.parent().width() + 2 * parseInt(e), targetHeight: i, padding: o, allowPartialLastRow: r, fadeSpeed: 2e3, effect: "effect-1", direction: "vertical" }); g.extend(i, a), dtGlobals.jGrid = i, t.collagePlus(i), t.css({ width: e }) }) }, g(window).on("debouncedresize", function () { g(".jg-container").not(".jgrid-shortcode").collage(), g(".jgrid-shortcode").each(function () { var t = g(this), e = t.data("visibleItems"); e ? t.collage({ images: e }) : t.collage() }) }).trigger("debouncedresize") }(jQuery);